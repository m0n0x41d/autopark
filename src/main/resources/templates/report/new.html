<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Отчет</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	</head>
	
<body>
	<div class="container">
        <h1>Создать отчет</h1>
		
		<form th:method="GET" th:action="@{/managers/report}" >
		    <div class="form-group mb-3">
                <label for="idVehicle">Автомобиль:</label>
                <select id="idVehicle" name="idVehicle" class="form-control">
                    <option th:each="vehicle : ${vehicles}" th:value="${vehicle.getId()}" th:text="${vehicle.getRegistrationNumber()}"></option>
                </select>
            </div> 
        	
            <div class="form-group mb-3">
                <label for="typeReport">Тип отчета:</label>
                <select id="typeReport" name="typeReport" class="form-control">
                    <option th:each="type : ${types}" th:value="${type}" th:text="${type.getTitle()}"></option>
                </select>
            </div>
        	
            <div class="form-group mb-3">
                <label for="period">Период:</label>
                <select id="period" name="period" class="form-control">
                    <option th:each="period : ${periods}" th:value="${period}" th:text="${period.getTitle()}"></option>
                </select>
            </div>
        	
            <div class="container">
                <p>Выбранный период с <input type="date" name="dateFrom"> по <input type="date" name="dateTo">
                </p>
            </div>
        		    
            <input style="margin-bottom: 10px;"
					type="submit" 
					value="Получить отчет" 
					class="btn btn-primary"/>    
					
<div th:if="${result != null}">
    <h2>Результат отчета:</h2>
    <ul>
        <li th:each="report : ${result}">
            <p th:text="${report.value}"></p>
        </li>
    </ul>
</div>
		</form>
			
		<div>
			<b> <a 	th:href="@{/managers/enterprises}" 
					class="btn btn-secondary">Назад</a> </b>
		</div>
		
	</div>
</body>
</html>